# Тесты: минимальная стратегия, если ты не пишешь код сам

## 0) Почему это обязательно
ИИ пишет быстрее, чем ты успеваешь глазами проверять.
Тесты — единственный объективный “судья”, который делает код production-ready.

## 1) Иерархия тестов (что добавлять первым)
1) Unit (быстро, дешево): функции/сервисы без внешних зависимостей.
2) API tests (Supertest/HTTP): критические эндпоинты.
3) Интеграционные (DB/очереди): только для ключевых цепочек.

## 2) Если тестов почти нет — начни со smoke‑тестов
Цель: “поймать пожары”, не покрыть всё.

Минимум:
- “создать обращение”,
- “прочитать обращение”,
- “сменить статус”,
- “получить ai-response (если включено)”.

## 3) Как просить ИИ добавлять тесты (шаблон)
“Добавь тест, который падает на старом коде и проходит на новом. Тест должен быть быстрым и не требовать внешней сети.”

## 4) Правило регрессии
Если найден баг:
1) сначала тест, который воспроизводит баг,
2) потом фикс,
3) потом рефакторинг (если нужен).

