# Definition of Done (DoD): когда задача “готова”

Этот DoD — твоя страховка, если ты не пишешь код сам.
Если пункт не выполнен — задача ещё в работе.

## DoD для любого PR
- Есть короткая спека/цель (хотя бы 5–10 строк).
- Diff маленький и по одной теме (нет “заодно”).
- Добавлен тест или воспроизводимый сценарий (см. `ai-playbook/06-testing.md`).
- Прогнаны автопроверки (lint/test/typecheck) или явно записано, почему это невозможно.
- Пройден чек‑лист `ai-playbook/05-pr-checklist.md`.
- Есть краткое описание:
  - что изменилось,
  - как проверить,
  - риски/края,
  - как откатиться/что будет при деградации.

## DoD для “опасных” изменений (данные/auth/security/infra)
Дополнительно к DoD для PR:
- Спека включает инварианты и rollback план.
- Есть тесты на негативные сценарии (ошибки/запреты/edge cases).
- Нет ослабления доступа “для теста”.
- Нет секретов в коде/логах.

